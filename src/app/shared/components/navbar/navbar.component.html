<div class="sidebar" [class.collapsed]="isCollapsed()">
    <!-- Header -->
    <div class="sidebar-header">
        <div class="logo">
            <span class="logo-icon">ğŸšš</span>
            @if (!isCollapsed()) {
            <span class="logo-text">SmartLogi</span>
            }
        </div>
        <button class="toggle-btn" (click)="toggleSidebar()">
            <span>{{ isCollapsed() ? 'â†’' : 'â†' }}</span>
        </button>
    </div>

    <!-- Navigation -->
    <nav class="sidebar-nav">
        @for (item of filteredMenuItems; track item.route) {
        <a [routerLink]="item.route" routerLinkActive="active" class="nav-item" [title]="item.label">
            <span class="nav-icon">{{ item.icon }}</span>
            @if (!isCollapsed()) {
            <span class="nav-label">{{ item.label }}</span>
            }
        </a>
        }
    </nav>

    <!-- Footer -->
    <div class="sidebar-footer">
        <!-- User Info -->
        <div class="user-info">
            <div class="user-avatar">{{ getUserInitials() }}</div>
            @if (!isCollapsed()) {
            <div class="user-details">
                <p class="user-name">{{ currentUser()?.username }}</p>
                <p class="user-role">{{ userRoles()[0]?.replace('ROLE_', '') }}</p>
            </div>
            }
        </div>

        <!-- Logout Button -->
        <button class="logout-btn" (click)="logout()" [title]="'DÃ©connexion'">
            <span class="logout-icon">ğŸšª</span>
            @if (!isCollapsed()) {
            <span class="logout-text">DÃ©connexion</span>
            }
        </button>
    </div>
</div>